========================================================================
Empty test
========================================================================
//
------------------------------------------------------------------------
ok

========================================================================
Auto return type: single return
========================================================================
fun test() {
//! ^ () -> int
    return 10
}

fun main() {
    val res = test();
//!     ^ int
}
------------------------------------------------------------------------
ok

========================================================================
Auto return type: two returns with same type
========================================================================
fun test(cond: bool) {
//! ^ (bool) -> int
    if (cond) {
        return 20;
    }
    return 10
}

fun main() {
    val res =
//!     ^ int
        test(true);
//!     ^ (bool) -> int
}
------------------------------------------------------------------------
ok

========================================================================
Auto return type: two returns with different type
========================================================================
fun test(cond: bool) {
//! ^ (bool) -> string | int
    if (cond) {
        return "hello";
    }
    return 10
}

fun main() {
    val res =
//!     ^ string | int
        test(true);
//!     ^ (bool) -> string | int
}
------------------------------------------------------------------------
ok

========================================================================
Auto return type: two returns with different type and null
========================================================================
fun test(cond: bool) {
//! ^ (bool) -> int?
    if (cond) {
        return null;
    }
    return 10
}

fun main() {
    val res =
//!     ^ int?
        test(true);
//!     ^ (bool) -> int?
}
------------------------------------------------------------------------
ok

========================================================================
Auto return type: single return with generic type
========================================================================
fun test<T>(arg: T) {
//! ^ (T) -> T
    return arg
}

fun main() {
    val res =
//!     ^ bool
        test(true);
//!     ^ (T) -> T
}
------------------------------------------------------------------------
ok

========================================================================
Auto return type: single return with generic type and explicit type parameter
========================================================================
fun test<T>(arg: T) {
//! ^ (T) -> T
    return arg
}

fun main() {
    val res =
//!     ^ slice
        test<slice>("hello");
//!     ^ (T) -> T
}
------------------------------------------------------------------------
ok

========================================================================
Auto return type: cyclic reference
========================================================================
fun test<T>(arg: T) {
//! ^ (T) -> int
    if (arg) {
        return 10;
    }
    return test<int>(arg)
}

fun main() {
    val res =
//!     ^ int
        test<slice>("hello");
//!     ^ (T) -> int
}
------------------------------------------------------------------------
ok
