========================================================================
Array type — Basic
========================================================================
struct array<T> {}

fun main() {
    val a: array<int> = [1, 2, 3];
    //! ^ array<int>
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Inference from elements
========================================================================
struct array<T> {}

fun main() {
    val a = [1, 2, 3];
    //! ^ array<int>
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Explicit literal
========================================================================
struct array<T> {}

fun main() {
    val a = array<int>[1, 2];
    //! ^ array<int>
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Mixed elements
========================================================================
struct array<T> {}

fun main() {
    val a = [1, null];
    //! ^ array<int?>
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Empty array
========================================================================
struct array<T> {}

fun main() {
    val a = [];
    //! ^ array<unknown>
}
------------------------------------------------------------------------
ok

========================================================================
Tuple type — Tuple hint
========================================================================
fun main() {
    val a: [int, bool] = [1, true];
    //! ^ [int, bool]
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Numeric index access
========================================================================
struct array<T> {}

fun main() {
    val a: array<int> = [1, 2, 3];
    val x = a.0;
    //! ^ int
    val y = a.100;
    //! ^ int
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Generic deduction
========================================================================
struct array<T> {}

fun first<T>(arr: array<T>): T {
    return arr.0;
}

fun main() {
    val a = [1, 2, 3];
    val x = first(a);
    //! ^ int
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Struct hint in Tuple
========================================================================
struct Foo {
    foo: int
}

fun main() {
    val a: [Foo] = [{foo: 10}];
    //!              ^ int
    val item = a.0;
    val field = item.foo;
    //!              ^ int
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Struct hint in Array
========================================================================
struct array<T> {}

struct Foo {
    foo: int
}

fun main() {
    val a: array<Foo> = [{foo: 10}];
    //!                   ^ int
    val field = a.0.foo;
    //!             ^ int
}
------------------------------------------------------------------------
ok

========================================================================
Array type — Struct hint in Explicit Array
========================================================================
struct array<T> {}

struct Foo {
    foo: int
}

fun main() {
    val a = array<Foo>[{foo: 10}];
    //!                 ^ int
    val field = a.0.foo;
    //!             ^ int
}
------------------------------------------------------------------------
ok

========================================================================
Array type — lisp_list hint
========================================================================
struct Foo { foo: int }

struct lisp_list<T> {}

fun main() {
    val a: lisp_list<Foo> = [{foo: 10}];
    //!                       ^ int
}
------------------------------------------------------------------------
ok
